<div [@routerTransition]>
  <app-page-header [heading]="'Feedback'" [icon]="'fa-commenting'"></app-page-header>
  <div class="row">
    <div class="col-lg-12">
      <div class="row">
        <div class="col-md-6 push-md-3">
          <form role="form" (ngSubmit)="f.form.valid && update(content)" #f="ngForm" novalidate>
            <div class="form-content">

              <fieldset class="form-group">
                <label>{{ 'Comment' | translate }}</label>
                <textarea class="form-control" name="comment" [(ngModel)]="feedback.comment" #comment="ngModel" rows="3"> </textarea>
              </fieldset>
              <fieldset class="form-group">
                <label>{{ 'Face Feedback' | translate }}</label>
                <!--input type="text" class="form-control input-lg" placeholder="{{ 'FullName' | translate }}" 
                                    [ngClass]="{ 'form-control-danger': f.submitted && !displayName.valid }"
                                    name="displayName" [(ngModel)]="profile.displayName" #displayName="ngModel" required />
                                <div *ngIf="f.submitted && !displayName.valid" class="form-control-feedback">Required</div-->

                <div class="btn btn-info image-upload ">
                  <input #fileInput type="file" id="pepe" name="fileInput" (change)="readImage()" required/>
                  <label for="pepe">
                    <img src="assets/images/camera.png" alt="camera">
                    <span>{{'Face Picture' | translate}}</span>
                  </label>
                </div>
                <img [src]="faceImagePath ? faceImagePath.result : null" class="preview">
              </fieldset>
              <fieldset class="form-group">
                <button [disabled]="loading" class="btn btn-primary right"> {{ 'Save' | translate }} </button>
                   <br/>
                  <label>{{ 'Your feedback will not asociate with your account' | translate }}</label>
                <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="
                />
              </fieldset>
            </div>
          </form>
        </div>
      </div>

    </div>

  </div>
</div>
<!-- The modal -->
<ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-body">
    <label>{{'Your feedback with your face recognition was' | translate}}: </label>
    <div class="row">
      <bar-rating [(rate)]="rate" [max]="10" [theme]="'fontawesome-o'" [readOnly]="true"></bar-rating>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="d()">{{ 'Close' | translate }}</button>
  </div>
</ng-template>
